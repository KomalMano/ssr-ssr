{"ast":null,"code":"function _typeof(obj){\"@babel/helpers - typeof\";return _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&\"function\"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;},_typeof(obj);}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toPropertyKey(arg){var key=_toPrimitive(arg,\"string\");return _typeof(key)===\"symbol\"?key:String(key);}function _toPrimitive(input,hint){if(_typeof(input)!==\"object\"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||\"default\");if(_typeof(res)!==\"object\")return res;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(hint===\"string\"?String:Number)(input);}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:\"undefined\"!=typeof Symbol&&arr[Symbol.iterator]||arr[\"@@iterator\"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1;}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0){;}}catch(err){_d=!0,_e=err;}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return;}finally{if(_d)throw _e;}}return _arr;}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}import React,{useState,useEffect,useCallback,useRef}from'react';import{useNavigate,useParams,Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faBuildingColumns,faCaretDown,faFlag,faCity,faIndianRupeeSign,faArrowsRotate}from'@fortawesome/free-solid-svg-icons';import{setIFSCSearchDetailInfo}from'../Middlewares/ReduxStore/IfscSearchDetailInfo';import{setIfscFetchedDetails}from'../Middlewares/ReduxStore/IfscFetchDetails';import{setLoadingState}from'../Middlewares/ReduxStore/ToggleStateSlice';import{capitalizeConverter,slugConverter}from'../Utils/RoutingFormats';import'../Assets/Styles/BankDetailSearchForm.css';import axiosFetchBankDataInstance from'../Middlewares/AxiosInstance/AxiosInstance';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function IfscDetailSetComponent(){var _useSelector=useSelector(function(state){return state.ifscFetchDetails;}),bankList=_useSelector.bank,stateList=_useSelector.state,districtList=_useSelector.district,branchList=_useSelector.branch;var _useSelector2=useSelector(function(state){return state.ifscSearchDetailInfo;}),bank=_useSelector2.bank,state=_useSelector2.state,district=_useSelector2.district,branch=_useSelector2.branch;var _useParams=useParams(),bankNameSlug=_useParams.bankNameSlug,stateNameSlug=_useParams.stateNameSlug,districtNameSlug=_useParams.districtNameSlug;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showBankOption=_useState2[0],setShowBankOption=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showStateOption=_useState4[0],setShowStateOption=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showDistrictOption=_useState6[0],setShowDistrictOption=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showBranchOption=_useState8[0],setShowBranchOption=_useState8[1];var _useState9=useState({bank:'',state:'',district:'',branch:''}),_useState10=_slicedToArray(_useState9,2),searchedValue=_useState10[0],setSearchedValues=_useState10[1];var dispatch=useDispatch();var navigate=useNavigate();var bankDetailNameWidth=useRef(50);function setBankNameValue(bankValue){dispatch(setLoadingState(true));axiosFetchBankDataInstance({url:\"api/bank-name/get-states\",data:{BANK:capitalizeConverter(bankValue)}}).then(function(res){dispatch(setIfscFetchedDetails({key:'state',value:res.data.data}));}).catch(function(err){alert(err.message);navigate(\"/\");}).finally(function(){dispatch(setLoadingState(false));});dispatch(setIFSCSearchDetailInfo({key:'bank',value:{bankname:capitalizeConverter(bankValue)}}));}function setStateNameValue(stateValue){dispatch(setLoadingState(true));axiosFetchBankDataInstance({url:\"api/bank-name/state/city\",data:{BANK:bank.bankname,STATE:stateValue}}).then(function(res){dispatch(setIfscFetchedDetails({key:'district',value:res.data.data}));}).catch(function(err){alert(err.message);navigate(\"/\");}).finally(function(){dispatch(setLoadingState(false));});dispatch(setIFSCSearchDetailInfo({key:'state',value:{statename:stateValue}}));}function setDistrictNameValue(districtValue){dispatch(setLoadingState(true));axiosFetchBankDataInstance({url:\"api/bank-name/state/city/branch\",data:{BANK:bank.bankname,STATE:state.statename,CITY:districtValue}}).then(function(res){dispatch(setIfscFetchedDetails({key:'branch',value:res.data.data}));}).catch(function(err){alert(err.message);navigate(\"/\");}).finally(function(){dispatch(setLoadingState(false));});dispatch(setIFSCSearchDetailInfo({key:'district',value:{districtname:districtValue}}));}var navToBankOption=useCallback(function(){if(bank){dispatch(setIFSCSearchDetailInfo({key:'bank',value:''}));dispatch(setIFSCSearchDetailInfo({key:'state',value:''}));dispatch(setIFSCSearchDetailInfo({key:'district',value:''}));dispatch(setIFSCSearchDetailInfo({key:'branch',value:''}));navigate(\"/\",{replace:true});}},[bank,dispatch,navigate]);var navToStateOption=useCallback(function(){if(state){dispatch(setIFSCSearchDetailInfo({key:'state',value:''}));dispatch(setIFSCSearchDetailInfo({key:'district',value:''}));dispatch(setIFSCSearchDetailInfo({key:'branch',value:''}));navigate(\"/bank/\".concat(bankNameSlug),{replace:true});}},[bankNameSlug,state,dispatch,navigate]);var navToDistrictOption=useCallback(function(){if(district){dispatch(setIFSCSearchDetailInfo({key:'district',value:''}));dispatch(setIFSCSearchDetailInfo({key:'branch',value:''}));navigate(\"/bank/\".concat(bankNameSlug,\"/\").concat(stateNameSlug),{replace:true});}},[bankNameSlug,stateNameSlug,district,dispatch,navigate]);useEffect(function(){bankDetailNameWidth.current=document.querySelector('.bankDetailSelectContainer p').offsetWidth;},[]);useEffect(function(){if(!bankNameSlug){navToBankOption();}else if(!stateNameSlug){navToStateOption();}else if(!districtNameSlug){navToDistrictOption();}},[bankNameSlug,stateNameSlug,districtNameSlug,navToBankOption,navToStateOption,navToDistrictOption]);return/*#__PURE__*/_jsxs(\"div\",{id:\"bankDetailSearchContainer\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"IFSC Code \",/*#__PURE__*/_jsx(\"span\",{children:\"Finder\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"bankDetailFormContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bankDetailSelectOuterContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bankDetailSelectContainer \".concat(bank&&'successBorder'),onClick:function onClick(){return setShowBankOption(!showBankOption);},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faBuildingColumns,className:\"bankDetailSelectIcon\"}),/*#__PURE__*/_jsx(\"p\",{style:{width:\"\".concat(bankDetailNameWidth.current+'px')},children:bank.bankname||'Select Bank'}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:bank?faArrowsRotate:faCaretDown,className:\"bankDetailSelectDropDownIcon \".concat(showBankOption&&!bank&&'opened',\" \").concat(bank&&'refreshBtnColor'),onClick:function onClick(){return navToBankOption();}})]}),showBankOption&&!bank&&/*#__PURE__*/_jsxs(\"div\",{className:\"bankDetailOptionOuterContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bankDetailOptionSearchBoxContainer\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"bankDetailOptionSearchBox\",value:searchedValue.bank,onChange:function onChange(e){return setSearchedValues(_objectSpread(_objectSpread({},searchedValue),{},{bank:e.target.value}));},placeholder:\"Search Bank Name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bankDetailOptionContainer\",children:searchedValue.bank?bankList.filter(function(name){return name.toLowerCase().includes(searchedValue.bank.toLowerCase());}).map(function(name,ind){return/*#__PURE__*/_jsxs(Link,{to:\"/bank/\".concat(slugConverter(name)),onClick:function onClick(){return setBankNameValue(name);},className:\"bankDetailOptionSelector\",children:[\"\\u25CF \",name]},ind);}):bankList.map(function(name,ind){return/*#__PURE__*/_jsxs(Link,{to:\"/bank/\".concat(slugConverter(name)),onClick:function onClick(){return setBankNameValue(name);},className:\"bankDetailOptionSelector\",children:[\"\\u25CF \",name]},ind);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bankDetailSelectOuterContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bankDetailSelectContainer \".concat(!bank&&'disabledField',\" \").concat(state&&'successBorder'),onClick:function onClick(){return setShowStateOption(!showStateOption);},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFlag,className:\"bankDetailSelectIcon\"}),/*#__PURE__*/_jsx(\"p\",{style:{width:\"\".concat(bankDetailNameWidth.current+'px')},children:state.statename||'Select State'}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:state?faArrowsRotate:faCaretDown,className:\"bankDetailSelectDropDownIcon $\\n            {(showStateOption && !state && bank) && 'opened'} \".concat(state&&'refreshBtnColor'),onClick:function onClick(){return navToStateOption();}})]}),showStateOption&&!state&&bank&&/*#__PURE__*/_jsxs(\"div\",{className:\"bankDetailOptionOuterContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bankDetailOptionSearchBoxContainer\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"bankDetailOptionSearchBox\",value:searchedValue.state,onChange:function onChange(e){return setSearchedValues(_objectSpread(_objectSpread({},searchedValue),{},{state:e.target.value}));},placeholder:\"Search State Name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bankDetailOptionContainer\",children:searchedValue.state?stateList.filter(function(name){return name.toLowerCase().includes(searchedValue.state.toLowerCase());}).map(function(name,ind){return/*#__PURE__*/_jsxs(Link,{to:\"/bank/\".concat(bankNameSlug,\"/\").concat(slugConverter(name)),onClick:function onClick(){return setStateNameValue(name);},className:\"bankDetailOptionSelector\",children:[\"\\u25CF \",name]},ind);}):stateList.map(function(name,ind){return/*#__PURE__*/_jsxs(Link,{to:\"/bank/\".concat(bankNameSlug,\"/\").concat(slugConverter(name)),onClick:function onClick(){return setStateNameValue(name);},className:\"bankDetailOptionSelector\",children:[\"\\u25CF \",name]},ind);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bankDetailSelectOuterContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bankDetailSelectContainer \".concat(!state?'disabledField':'',\" \").concat(district&&'successBorder'),onClick:function onClick(){return setShowDistrictOption(!showDistrictOption);},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCity,className:\"bankDetailSelectIcon\"}),/*#__PURE__*/_jsx(\"p\",{style:{width:\"\".concat(bankDetailNameWidth.current+'px')},children:district.districtname||'Select District'}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:district?faArrowsRotate:faCaretDown,className:\"bankDetailSelectDropDownIcon \".concat(showDistrictOption&&!district&&state&&'opened',\" \").concat(district&&'refreshBtnColor'),onClick:function onClick(){return navToDistrictOption();}})]}),showDistrictOption&&!district&&state&&/*#__PURE__*/_jsxs(\"div\",{className:\"bankDetailOptionOuterContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bankDetailOptionSearchBoxContainer\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"bankDetailOptionSearchBox\",value:searchedValue.district,onChange:function onChange(e){return setSearchedValues(_objectSpread(_objectSpread({},searchedValue),{},{district:e.target.value}));},placeholder:\"Search District Name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bankDetailOptionContainer\",children:searchedValue.district?districtList.filter(function(name){return name.toLowerCase().includes(searchedValue.district.toLowerCase());}).map(function(name,ind){return/*#__PURE__*/_jsxs(Link,{to:\"/bank/\".concat(bankNameSlug,\"/\").concat(stateNameSlug,\"/\").concat(slugConverter(name)),onClick:function onClick(){return setDistrictNameValue(name);},className:\"bankDetailOptionSelector\",children:[\"\\u25CF \",name]},ind);}):districtList.map(function(name,ind){return/*#__PURE__*/_jsxs(Link,{to:\"/bank/\".concat(bankNameSlug,\"/\").concat(stateNameSlug,\"/\").concat(slugConverter(name)),onClick:function onClick(){return setDistrictNameValue(name);},className:\"bankDetailOptionSelector\",children:[\"\\u25CF \",name]},ind);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bankDetailSelectOuterContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bankDetailSelectContainer \".concat(!district?'disabledField':''),onClick:function onClick(){return setShowBranchOption(!showBranchOption);},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faIndianRupeeSign,className:\"bankDetailSelectIcon\"}),/*#__PURE__*/_jsx(\"p\",{style:{width:\"\".concat(bankDetailNameWidth.current+'px')},children:branch.branchname||'Select Branch'}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCaretDown,className:\"bankDetailSelectDropDownIcon \".concat(showBranchOption&&district&&'opened')})]}),showBranchOption&&district&&/*#__PURE__*/_jsxs(\"div\",{className:\"bankDetailOptionOuterContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bankDetailOptionSearchBoxContainer\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"bankDetailOptionSearchBox\",value:searchedValue.branch,onChange:function onChange(e){return setSearchedValues(_objectSpread(_objectSpread({},searchedValue),{},{branch:e.target.value}));},placeholder:\"Search Branch Name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bankDetailOptionContainer\",children:searchedValue.branch?branchList.filter(function(name){return name.toLowerCase().includes(searchedValue.branch.toLowerCase());}).map(function(name,ind){return/*#__PURE__*/_jsxs(Link,{to:\"/bank/\".concat(bankNameSlug,\"/\").concat(stateNameSlug,\"/\").concat(districtNameSlug,\"/\").concat(slugConverter(name)),className:\"bankDetailOptionSelector\",children:[\"\\u25CF \",name]},ind);}):branchList.map(function(name,ind){return/*#__PURE__*/_jsxs(Link,{to:\"/bank/\".concat(bankNameSlug,\"/\").concat(stateNameSlug,\"/\").concat(districtNameSlug,\"/\").concat(slugConverter(name)),className:\"bankDetailOptionSelector\",children:[\"\\u25CF \",name]},ind);})})]})]})]})]});}export default IfscDetailSetComponent;","map":null,"metadata":{},"sourceType":"module"}