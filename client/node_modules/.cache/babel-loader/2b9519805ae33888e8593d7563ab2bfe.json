{"ast":null,"code":"var _jsxFileName = \"D:\\\\Software\\\\Real Worl Projects\\\\bank_server\\\\deomos\\\\code-app\\\\src\\\\Components\\\\IfscDetailSetComponent.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useNavigate, useParams, Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBuildingColumns, faCaretDown, faFlag, faCity, faIndianRupeeSign, faArrowsRotate } from '@fortawesome/free-solid-svg-icons';\nimport { setIFSCSearchDetailInfo } from '../Middlewares/ReduxStore/IfscSearchDetailInfo';\nimport { setIfscFetchedDetails } from '../Middlewares/ReduxStore/IfscFetchDetails';\nimport { setLoadingState } from '../Middlewares/ReduxStore/ToggleStateSlice';\nimport { capitalizeConverter, slugConverter } from '../Utils/RoutingFormats';\nimport '../Assets/Styles/BankDetailSearchForm.css';\nimport axiosFetchBankDataInstance from '../Middlewares/AxiosInstance/AxiosInstance';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction IfscDetailSetComponent() {\n  const {\n    bank: bankList,\n    state: stateList,\n    district: districtList,\n    branch: branchList\n  } = useSelector(state => state.ifscFetchDetails);\n  const {\n    bank,\n    state,\n    district,\n    branch\n  } = useSelector(state => state.ifscSearchDetailInfo);\n  const {\n    bankNameSlug,\n    stateNameSlug,\n    districtNameSlug\n  } = useParams();\n  const [showBankOption, setShowBankOption] = useState(false);\n  const [showStateOption, setShowStateOption] = useState(false);\n  const [showDistrictOption, setShowDistrictOption] = useState(false);\n  const [showBranchOption, setShowBranchOption] = useState(false);\n  const [searchedValue, setSearchedValues] = useState({\n    bank: '',\n    state: '',\n    district: '',\n    branch: ''\n  });\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const bankDetailNameWidth = useRef(50);\n  function setBankNameValue(bankValue) {\n    dispatch(setLoadingState(true));\n    axiosFetchBankDataInstance({\n      url: \"api/bank-name/get-states\",\n      data: {\n        BANK: capitalizeConverter(bankValue)\n      }\n    }).then(res => {\n      dispatch(setIfscFetchedDetails({\n        key: 'state',\n        value: res.data.data\n      }));\n    }).catch(err => {\n      alert(err.message);\n      navigate(`/`);\n    }).finally(() => {\n      dispatch(setLoadingState(false));\n    });\n    dispatch(setIFSCSearchDetailInfo({\n      key: 'bank',\n      value: {\n        bankname: capitalizeConverter(bankValue)\n      }\n    }));\n  }\n  function setStateNameValue(stateValue) {\n    dispatch(setLoadingState(true));\n    axiosFetchBankDataInstance({\n      url: \"api/bank-name/state/city\",\n      data: {\n        BANK: bank.bankname,\n        STATE: stateValue\n      }\n    }).then(res => {\n      dispatch(setIfscFetchedDetails({\n        key: 'district',\n        value: res.data.data\n      }));\n    }).catch(err => {\n      alert(err.message);\n      navigate(`/`);\n    }).finally(() => {\n      dispatch(setLoadingState(false));\n    });\n    dispatch(setIFSCSearchDetailInfo({\n      key: 'state',\n      value: {\n        statename: stateValue\n      }\n    }));\n  }\n  function setDistrictNameValue(districtValue) {\n    dispatch(setLoadingState(true));\n    axiosFetchBankDataInstance({\n      url: \"api/bank-name/state/city/branch\",\n      data: {\n        BANK: bank.bankname,\n        STATE: state.statename,\n        CITY: districtValue\n      }\n    }).then(res => {\n      dispatch(setIfscFetchedDetails({\n        key: 'branch',\n        value: res.data.data\n      }));\n    }).catch(err => {\n      alert(err.message);\n      navigate(`/`);\n    }).finally(() => {\n      dispatch(setLoadingState(false));\n    });\n    dispatch(setIFSCSearchDetailInfo({\n      key: 'district',\n      value: {\n        districtname: districtValue\n      }\n    }));\n  }\n  const navToBankOption = useCallback(function () {\n    if (bank) {\n      dispatch(setIFSCSearchDetailInfo({\n        key: 'bank',\n        value: ''\n      }));\n      dispatch(setIFSCSearchDetailInfo({\n        key: 'state',\n        value: ''\n      }));\n      dispatch(setIFSCSearchDetailInfo({\n        key: 'district',\n        value: ''\n      }));\n      dispatch(setIFSCSearchDetailInfo({\n        key: 'branch',\n        value: ''\n      }));\n      navigate(`/`, {\n        replace: true\n      });\n    }\n  }, [bank, dispatch, navigate]);\n  const navToStateOption = useCallback(function () {\n    if (state) {\n      dispatch(setIFSCSearchDetailInfo({\n        key: 'state',\n        value: ''\n      }));\n      dispatch(setIFSCSearchDetailInfo({\n        key: 'district',\n        value: ''\n      }));\n      dispatch(setIFSCSearchDetailInfo({\n        key: 'branch',\n        value: ''\n      }));\n      navigate(`/bank/${bankNameSlug}`, {\n        replace: true\n      });\n    }\n  }, [bankNameSlug, state, dispatch, navigate]);\n  const navToDistrictOption = useCallback(function () {\n    if (district) {\n      dispatch(setIFSCSearchDetailInfo({\n        key: 'district',\n        value: ''\n      }));\n      dispatch(setIFSCSearchDetailInfo({\n        key: 'branch',\n        value: ''\n      }));\n      navigate(`/bank/${bankNameSlug}/${stateNameSlug}`, {\n        replace: true\n      });\n    }\n  }, [bankNameSlug, stateNameSlug, district, dispatch, navigate]);\n  useEffect(() => {\n    bankDetailNameWidth.current = document.querySelector('.bankDetailSelectContainer p').offsetWidth;\n  }, []);\n  useEffect(() => {\n    if (!bankNameSlug) {\n      navToBankOption();\n    } else if (!stateNameSlug) {\n      navToStateOption();\n    } else if (!districtNameSlug) {\n      navToDistrictOption();\n    }\n  }, [bankNameSlug, stateNameSlug, districtNameSlug, navToBankOption, navToStateOption, navToDistrictOption]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    id: \"bankDetailSearchContainer\",\n    children: [/*#__PURE__*/_jsxs(\"h1\", {\n      children: [\"IFSC Code \", /*#__PURE__*/_jsx(\"span\", {\n        children: \"Finder\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      id: \"bankDetailFormContainer\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"bankDetailSelectOuterContainer\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: `bankDetailSelectContainer ${bank && 'successBorder'}`,\n          onClick: () => setShowBankOption(!showBankOption),\n          children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n            icon: faBuildingColumns,\n            className: `bankDetailSelectIcon`\n          }), /*#__PURE__*/_jsx(\"p\", {\n            style: {\n              width: `${bankDetailNameWidth.current + 'px'}`\n            },\n            children: bank.bankname || 'Select Bank'\n          }), /*#__PURE__*/_jsx(FontAwesomeIcon, {\n            icon: bank ? faArrowsRotate : faCaretDown,\n            className: `bankDetailSelectDropDownIcon ${showBankOption && !bank && 'opened'} ${bank && 'refreshBtnColor'}`,\n            onClick: () => navToBankOption()\n          })]\n        }), showBankOption && !bank && /*#__PURE__*/_jsxs(\"div\", {\n          className: \"bankDetailOptionOuterContainer\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"bankDetailOptionSearchBoxContainer\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              className: \"bankDetailOptionSearchBox\",\n              value: searchedValue.bank,\n              onChange: e => setSearchedValues(_objectSpread(_objectSpread({}, searchedValue), {}, {\n                bank: e.target.value\n              })),\n              placeholder: \"Search Bank Name\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"bankDetailOptionContainer\",\n            children: searchedValue.bank ? bankList.filter(name => name.toLowerCase().includes(searchedValue.bank.toLowerCase())).map((name, ind) => /*#__PURE__*/_jsxs(Link, {\n              to: `/bank/${slugConverter(name)}`,\n              onClick: () => setBankNameValue(name),\n              className: \"bankDetailOptionSelector\",\n              children: [\"\\u25CF \", name]\n            }, ind)) : bankList.map((name, ind) => /*#__PURE__*/_jsxs(Link, {\n              to: `/bank/${slugConverter(name)}`,\n              onClick: () => setBankNameValue(name),\n              className: \"bankDetailOptionSelector\",\n              children: [\"\\u25CF \", name]\n            }, ind))\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"bankDetailSelectOuterContainer\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: `bankDetailSelectContainer ${!bank && 'disabledField'} ${state && 'successBorder'}`,\n          onClick: () => setShowStateOption(!showStateOption),\n          children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n            icon: faFlag,\n            className: `bankDetailSelectIcon`\n          }), /*#__PURE__*/_jsx(\"p\", {\n            style: {\n              width: `${bankDetailNameWidth.current + 'px'}`\n            },\n            children: state.statename || 'Select State'\n          }), /*#__PURE__*/_jsx(FontAwesomeIcon, {\n            icon: state ? faArrowsRotate : faCaretDown,\n            className: `bankDetailSelectDropDownIcon $\n            {(showStateOption && !state && bank) && 'opened'} ${state && 'refreshBtnColor'}`,\n            onClick: () => navToStateOption()\n          })]\n        }), showStateOption && !state && bank && /*#__PURE__*/_jsxs(\"div\", {\n          className: \"bankDetailOptionOuterContainer\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"bankDetailOptionSearchBoxContainer\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              className: \"bankDetailOptionSearchBox\",\n              value: searchedValue.state,\n              onChange: e => setSearchedValues(_objectSpread(_objectSpread({}, searchedValue), {}, {\n                state: e.target.value\n              })),\n              placeholder: \"Search State Name\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"bankDetailOptionContainer\",\n            children: searchedValue.state ? stateList.filter(name => name.toLowerCase().includes(searchedValue.state.toLowerCase())).map((name, ind) => /*#__PURE__*/_jsxs(Link, {\n              to: `/bank/${bankNameSlug}/${slugConverter(name)}`,\n              onClick: () => setStateNameValue(name),\n              className: \"bankDetailOptionSelector\",\n              children: [\"\\u25CF \", name]\n            }, ind)) : stateList.map((name, ind) => /*#__PURE__*/_jsxs(Link, {\n              to: `/bank/${bankNameSlug}/${slugConverter(name)}`,\n              onClick: () => setStateNameValue(name),\n              className: \"bankDetailOptionSelector\",\n              children: [\"\\u25CF \", name]\n            }, ind))\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"bankDetailSelectOuterContainer\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: `bankDetailSelectContainer ${!state ? 'disabledField' : ''} ${district && 'successBorder'}`,\n          onClick: () => setShowDistrictOption(!showDistrictOption),\n          children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n            icon: faCity,\n            className: `bankDetailSelectIcon`\n          }), /*#__PURE__*/_jsx(\"p\", {\n            style: {\n              width: `${bankDetailNameWidth.current + 'px'}`\n            },\n            children: district.districtname || 'Select District'\n          }), /*#__PURE__*/_jsx(FontAwesomeIcon, {\n            icon: district ? faArrowsRotate : faCaretDown,\n            className: `bankDetailSelectDropDownIcon ${showDistrictOption && !district && state && 'opened'} ${district && 'refreshBtnColor'}`,\n            onClick: () => navToDistrictOption()\n          })]\n        }), showDistrictOption && !district && state && /*#__PURE__*/_jsxs(\"div\", {\n          className: \"bankDetailOptionOuterContainer\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"bankDetailOptionSearchBoxContainer\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              className: \"bankDetailOptionSearchBox\",\n              value: searchedValue.district,\n              onChange: e => setSearchedValues(_objectSpread(_objectSpread({}, searchedValue), {}, {\n                district: e.target.value\n              })),\n              placeholder: \"Search District Name\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"bankDetailOptionContainer\",\n            children: searchedValue.district ? districtList.filter(name => name.toLowerCase().includes(searchedValue.district.toLowerCase())).map((name, ind) => /*#__PURE__*/_jsxs(Link, {\n              to: `/bank/${bankNameSlug}/${stateNameSlug}/${slugConverter(name)}`,\n              onClick: () => setDistrictNameValue(name),\n              className: \"bankDetailOptionSelector\",\n              children: [\"\\u25CF \", name]\n            }, ind)) : districtList.map((name, ind) => /*#__PURE__*/_jsxs(Link, {\n              to: `/bank/${bankNameSlug}/${stateNameSlug}/${slugConverter(name)}`,\n              onClick: () => setDistrictNameValue(name),\n              className: \"bankDetailOptionSelector\",\n              children: [\"\\u25CF \", name]\n            }, ind))\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"bankDetailSelectOuterContainer\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: `bankDetailSelectContainer ${!district ? 'disabledField' : ''}`,\n          onClick: () => setShowBranchOption(!showBranchOption),\n          children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n            icon: faIndianRupeeSign,\n            className: `bankDetailSelectIcon`\n          }), /*#__PURE__*/_jsx(\"p\", {\n            style: {\n              width: `${bankDetailNameWidth.current + 'px'}`\n            },\n            children: branch.branchname || 'Select Branch'\n          }), /*#__PURE__*/_jsx(FontAwesomeIcon, {\n            icon: faCaretDown,\n            className: `bankDetailSelectDropDownIcon ${showBranchOption && district && 'opened'}`\n          })]\n        }), showBranchOption && district && /*#__PURE__*/_jsxs(\"div\", {\n          className: \"bankDetailOptionOuterContainer\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"bankDetailOptionSearchBoxContainer\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              className: \"bankDetailOptionSearchBox\",\n              value: searchedValue.branch,\n              onChange: e => setSearchedValues(_objectSpread(_objectSpread({}, searchedValue), {}, {\n                branch: e.target.value\n              })),\n              placeholder: \"Search Branch Name\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"bankDetailOptionContainer\",\n            children: searchedValue.branch ? branchList.filter(name => name.toLowerCase().includes(searchedValue.branch.toLowerCase())).map((name, ind) => /*#__PURE__*/_jsxs(Link, {\n              to: `/bank/${bankNameSlug}/${stateNameSlug}/${districtNameSlug}/${slugConverter(name)}`,\n              className: \"bankDetailOptionSelector\",\n              children: [\"\\u25CF \", name]\n            }, ind)) : branchList.map((name, ind) => /*#__PURE__*/_jsxs(Link, {\n              to: `/bank/${bankNameSlug}/${stateNameSlug}/${districtNameSlug}/${slugConverter(name)}`,\n              className: \"bankDetailOptionSelector\",\n              children: [\"\\u25CF \", name]\n            }, ind))\n          })]\n        })]\n      })]\n    })]\n  });\n}\nexport default IfscDetailSetComponent;","map":null,"metadata":{},"sourceType":"module"}